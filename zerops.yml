zerops:
  - setup: golang0
    build:
      os: ubuntu
      base:
        - go@1
        - nodejs@20
      prepareCommands:
        - sudo apt-get install sqlite3 gcc -y
      buildCommands:
        - go install github.com/a-h/templ/cmd/templ@latest
        - ~/go/bin/templ generate
        - npm install
        - npx tailwind -i ./assets/app.css -o ./public/app.css
        - go build -o bin/app ./app/
      deployFiles:
        - ./bin/~/app
        - ./public/
    run:
      base: go@1
      ports:
        - port: 6969
          httpSupport: true
      start: ./app
